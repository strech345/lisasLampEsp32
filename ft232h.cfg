# -------------From youtube ----------------

# adapter speed  1000
#adapter driver ftdi
# ftdi device_desc "Olimex OpenOCD JTAG ARM-USB-TINY-H"
#ftdi vid_pid 0x0403 0x6014

#ftdi layout_init 0x00008 0x000b
#ftdi layout_signal nTRST -data 0x0100 -oe 0x0100
#ftdi layout_signal nSRST -data 0x0200 -oe 0x0200


# AD0 TCK G13
# AD1 TDI G12
# AD2 TD0 G15
# AD3 TMS G14
# AC0 nTRST
# AC1 nSRST EN
# GND     GND

#---------from gemini ---------------
# OpenOCD Konfiguration für FT232H JTAG Adapter (Standard Pin-Mapping)

# 1. Adapter-Definition
interface ftdi
ftdi_vid_pid 0x0403 0x6014

# 2. JTAG-Pin-Mapping (AD0-AD3)
# Hier wird definiert, welche Pins für TCK, TDI, TDO, TMS verwendet werden.
# ftdi_layout_init:
# - Erster Wert (0x0008): Initialer Zustand (z.B. AD3 high für TMS)
# - Zweiter Wert (0x000F): Bitmaske der Pins, die als Output (OE) konfiguriert werden (AD0-AD3).
ftdi layout_init 0x0008 0x000F

# 3. Reset-Signal-Mapping
# nSRST (System Reset) wird mit dem EN-Pin des ESP32 verbunden.
# Wir verwenden AC1 (Bit 9 -> 0x0200) für nSRST.

# nSRST: System Reset (verbunden mit ESP32 EN Pin)
# -data 0x0000: Initialer Datenwert (low)
# -oe 0x0200: Output Enable für AC1
ftdi layout_signal nSRST -data 0x0000 -oe 0x0200

# nTRST: JTAG Reset (optional)
# Wir verwenden AC0 (Bit 8 -> 0x0100) für nTRST.
ftdi layout_signal nTRST -data 0x0000 -oe 0x0100

# 4. Adapter-Geschwindigkeit
# Startet mit einer konservativen Geschwindigkeit (1000 kHz = 1 MHz).
adapter speed 5000

# AD0	TCK	GPIO13
# AD1	TDI	GPIO12
# AD2	TDO	GPIO15
# AD3	TMS	GPIO14
# AC1	nSRST	EN (Chip Enable/Reset)
# GND	GND	GND